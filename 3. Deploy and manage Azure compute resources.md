# Deploy and manage Azure compute resources (20â€“25%)

## Automate deployment of resources by using Azure Resource Manager (ARM) templates or Bicep files

- Interpret an ARM template or a Bicep file
- Modify an existing ARM template
- Modify an existing Bicep file
- Deploy resources by using an ARM template or a Bicep file
- Export a deployment as an ARM template or compile a deployment as a Bicep file

### Azure Resource Manager (ARM) 

ARM provides the ability to work with the resources in your solution as a group instead of individual components. 

- Deploy, update, or delete all resources for solutions in a single operation
- Use templates for deployment
-  Templates can work for testing, staging, and production environments
-  Provides security, auditing, and tagging to assist with managing resources after deployment
- Provides the ability to monitor all resources for your solution
- Repeatedly deploy solutions throughout the development lifecycle while ensuring they're deployed consistently
- Templates are declarative and can be used to manage the infrastructure instead of using scripts
- RBAC can be applied to all service within the resource group since it's natively integrated into the management platform
- Tags can help logically organize resources within the subscription
- The organization's billing can be clarified by viewing the costs for groups of resources using the same tags
	
	
ARM provides a way to consistently manage resources by performing tasks through:

- Azure PowerShell
- Azure CLI
- The Azure portal
- REST API
- Client SDKs

Take advantage of ARM while working with solutions by:

- Defining all deployment and config steps using the template(s). No manual steps should be required to setup solutions
- Running commands like starting/stopping an app or machine to manage resources
- Organizing resources with the same lifecycle using resource groups
	- Use tags to organize additional resources



## Create and configure virtual machines

- Create a virtual machine
- Configure Azure Disk Encryption
- Move a virtual machine to another resource group, subscription, or region
- Manage virtual machine sizes
- Manage virtual machine disks
- Deploy virtual machines to availability zones and availability sets
- Deploy and configure an Azure Virtual Machine Scale SetsCreate a VM
- Manage images by using the Azure Compute Gallery


### Azure Virtual Machines

Working with VMs allows you to have more control over the installed software and configuration settings. 

Characteristics of Azure VMs include:
- Based on the infrastructure as a service (IaaS) model, which is an instant computing infrastructre that's provisioned and managed over the web.
- VMs provide their own OS, storage, and networking capabilities, and can run a wide range of apps.
- VMs can be quickly scaled up and down on demand, allowing you to pay for what you use.
- Multiple VMs can be implemented, and each machine can be configured with different software and config settings to support different operations (deployment, testing, and deployment environments).
- Microsoft and the customer share responsibility associated with configuring and maintaining VMs.

Before using IaaS and VMs, you should consider the following:
- Test and development: quickly setup and tear down test & dev environments to push apps out faster. 
- Website hosting: using IaaS and VMs can make running websites less expensive than traditional hosting.
- High-performance computing (HPC): HPC can solve complex problems that involve millions of calucations or variables. VMs enable this on clusters, computer grids, or supercomputers, providing the ability to support various scenarios. 
- Storage, backup, and recovery: VMs avoid expenses associated with storage and storage management. IaaS provides a simplified approach to handling unpredictable demand, as well as backup and recovery systems.
- Extended datacenters: VMs in Azure can help add capacity to an organizations datacenter, without requiring addition cost for physical hardware and additional maintenance. 
- Big data analysis: data mining allows you to discover hidden patterns that require a large amount of processing power, provided by IaaS in a more economical approach.


### Planning VM Configuration

Following a checklist will help you plan to configure a VM:
- Network configuration: VNets are used to provide private connectivity between your VMs and other services in Azure.
	- Resources on the same VNet can access one another; by default, any resources outside the VNet aren't able to connect to those within the VNet.
   	- Additional configuration is required to the network before external services can be accessed, including any on-prem servers.
		- Note: If your organizations private network is going to be connected to the services in Azure, make sure to consider the topology before creating VMs. 
- Name for the VM: the name of the VM will be configured as part of the OS.
	- Windows VMs allow names up to 15 characters long
	- Linux VMs allow names up to 64 characters long
   		- Note: make sure to pick a naming convention that's meaningful and standardized.
       		- Ex: produsc-webvm01 would be used for the first production web server in the US South Central location.
- Location for the VM: the region in which you create your VM will be where the resources are allocated.
  	- Choosing a regional location allows your VM to be close to your users.
  		- Note: the location of the VM can improve performance and is an important decision to ensure you meet legal, tax, and/or compliance requirements.
  	 - Location can limit your options for hardware and configurations.
  	 - Location can also determine the pricing - some regions will be more expensive than others.
- Size of the VM: depending on the type of workload the VM will be running will determine the memory and storage sizes your machine will require.
  	- Azure allows you to resize VMs when the size no longer meets your needs if the hardware configuration is allowed in the new size.
  	- This provides an agile and elastic approach to VM management.
  	  	- Note: you can select any size available in your region when you stop & deallocate the VM. However, you should use caution resizing production machines as resizing might require a reboot or change the IP address, causing a temp outage.
- Review the pricing model to estimate costs: subscriptions are billed two charges for each VM; compute and storage. These costs being separate allow you to scale them and pay for only what you need.
	- Compute: paid on a per-hour basis and billed on a per-minute basis.
   		- Consumption-based means you pay for the compute capacity per second. This option allows you to increase or decrease the capcity on demand, allowing you to start or stop as needed.
   			- This option is best if your organization runs apps with unpredictable or short-term workloads that cannot be interrupted, such as quick tests or developing apps in VMs.
 		- Reserved VM Instances (RI) provides an option to purchase a VM for one or three years, in a specific region. While this option requires a commitment made up front, you save up to 72% compared to the pay-as-you-go pricing model.
     			- This option is best if the VM needs to run continuously OR if you need a predictable budget, if you can commit to using the VM for a minimum of one year.
     			- RIs can be exchanged or returned with an early term fee. 
   	- Storage: charged separately for the Azure Storage used by the VM.
   		- Status of the machine doesn't determine the charges incurred.
- Identify the Azure Storage to use: Azure Managed Disks handle the storage account creation & management for you.
  	- Disk size & performance (standard or premium) can be selected.
  	- Adding disks or scaling up/down is possible. 
- Select an OS to use: pick between different versions of Windows or Linux.
  	- The cost of the OS license is included in the price.
  	- Use the Azure Marketplace to search for more than just base OS images. This allows you to install images that have the OS and additional software.
  	  	- Ex: A Linux server, Apache web server, MySQL database, and PHP are included in an image stack.
  	- You can also create your own disk image if you cannot find one that suits your needs.
  	  	- Note: Azure only supports 64-bit OS.


## Provision and manage containers in the Azure portal

- Create and manage an Azure container registry
- Provision a container by using Azure Container Instances
- Provision a container by using Azure Container Apps
- Manage sizing and scaling for containers, including Azure Container Instances and Azure Container AppsConfigure sizing and scaling for Azure Container Instances


## Create and configure an Azure App Service

- Provision an App Service plan
- Configure scaling for an App Service plan
- Create an App Service
- Configure certificates and TLS for an App Service
- Map an existing custom DNS name to an App Service
- Configure backup for an App Service
- Configure networking settings for an App Service
- Configure deployment slots for an App Service
